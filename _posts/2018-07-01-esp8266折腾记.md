---
layout:  post
title: ESP8266折腾记
subtitle: oled-0.96inch(ssd1306)
date: 2018-07-01
author: zhangzexin
header-img: img/post-bg-unix-linux.jpg
catalog: true
tags:
    - 硬件
    - esp8266
    - arduino
---
## 0x00 OLED改电阻
> 将电阻R3拆掉焊接到到R1位置；R8两端用锡短接，dc，cs管脚接地；res管脚通过一个io去控制完成复位；复位方法先将RES管脚保持低电平200ms；然后将RES管脚操持高平完成复位操作，然后对OLED进行初始化操作；这样就可以用iic通信了，这样就可以用iic通信了;D0=SCL; D1=SDA

![](https://upload.cc/i1/2018/07/01/ZCEO7I.jpg)
![img](https://upload.cc/i1/2018/07/01/Gl59tm.jpg)

- 改电阻是最头疼的了，这电阻也太小了。

## 0x01 ArduinoIDE
- > 先需要esp8266的库，才能驱动NodeMCU
- > adafruit ssd1306 的库
- > ESP8266 and ESP32 oled drive
- > 还有一个老外写的没啥用的库acrobotic 1306

## 0x02 写驱动
然后就看样程写驱动了，后台值历的c语言。

```c

#include <Wire.h>
#include <ACROBOTIC_SSD1306.h>

String indate ="";
String val="";

void setup()
{
  Wire.begin();	
  Serial.begin(115200);
  oled.init();                      // Initialze SSD1306 OLED display
  oled.clearDisplay();              // Clear screen
  Serial.println("init seccess");
}

void loop()
{
  while(Serial.available()>0){
    indate+=char(Serial.read());
    delay(2);
    if(Serial.available()<=0){
      Serial.println(indate);
    }
  }
  if(indate.length()>0){
    val=indate;
    oled.clearDisplay();
    Serial.println("display:"+val);
    oled.setTextXY(2,0);
    oled.putString(val);
  }
  indate="";
}
```

>python 的串口通信

```py
pip install pyserial
#!/usr/bin/env python
# coding:utf-8
import serial
import time

ser=serial.Serial("COM3",115200,timeout=1)

a=str.encode("mxhnb");
ser.write(a)
time.sleep(2)
ser.close()

```

上图
![img](https://upload.cc/i1/2018/07/01/8S1KRw.jpg)
## 0x03 更多功能
>loading
